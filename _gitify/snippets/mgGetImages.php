id: 13
name: mgGetImages
description: 'Get images from a MoreGallery resource. (Part of MoreGallery)'
category: MoreGallery
properties: "a:34:{s:5:\"cache\";a:7:{s:4:\"name\";s:5:\"cache\";s:4:\"desc\";s:34:\"moregallery.mggetimages.cache_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:8:\"resource\";a:7:{s:4:\"name\";s:8:\"resource\";s:4:\"desc\";s:37:\"moregallery.mggetimages.resource_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:10:\"activeOnly\";a:7:{s:4:\"name\";s:10:\"activeOnly\";s:4:\"desc\";s:39:\"moregallery.mggetimages.activeonly_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:6:\"sortBy\";a:7:{s:4:\"name\";s:6:\"sortBy\";s:4:\"desc\";s:35:\"moregallery.mggetimages.sortby_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:9:\"sortorder\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:7:\"sortDir\";a:7:{s:4:\"name\";s:7:\"sortDir\";s:4:\"desc\";s:36:\"moregallery.mggetimages.sortdir_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"ASC\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:34:\"moregallery.mggetimages.where_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:4:\"tags\";a:7:{s:4:\"name\";s:4:\"tags\";s:4:\"desc\";s:33:\"moregallery.mggetimages.tags_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:11:\"tagsFromUrl\";a:7:{s:4:\"name\";s:11:\"tagsFromUrl\";s:4:\"desc\";s:40:\"moregallery.mggetimages.tagsfromurl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:12:\"tagSeparator\";a:7:{s:4:\"name\";s:12:\"tagSeparator\";s:4:\"desc\";s:41:\"moregallery.mggetimages.tagseparator_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:7:\"getTags\";a:7:{s:4:\"name\";s:7:\"getTags\";s:4:\"desc\";s:36:\"moregallery.mggetimages.gettags_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:18:\"getResourceContent\";a:7:{s:4:\"name\";s:18:\"getResourceContent\";s:4:\"desc\";s:47:\"moregallery.mggetimages.getresourcecontent_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:21:\"getResourceProperties\";a:7:{s:4:\"name\";s:21:\"getResourceProperties\";s:4:\"desc\";s:50:\"moregallery.mggetimages.getresourceproperties_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:17:\"getResourceFields\";a:7:{s:4:\"name\";s:17:\"getResourceFields\";s:4:\"desc\";s:46:\"moregallery.mggetimages.getresourcefields_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:14:\"getResourceTVs\";a:7:{s:4:\"name\";s:14:\"getResourceTVs\";s:4:\"desc\";s:43:\"moregallery.mggetimages.getresourcetvs_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:6:\"tagTpl\";a:7:{s:4:\"name\";s:6:\"tagTpl\";s:4:\"desc\";s:35:\"moregallery.mggetimages.tagtpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:5:\"mgtag\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:8:\"imageTpl\";a:7:{s:4:\"name\";s:8:\"imageTpl\";s:4:\"desc\";s:37:\"moregallery.mggetimages.imagetpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:7:\"mgimage\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:10:\"youtubeTpl\";a:7:{s:4:\"name\";s:10:\"youtubeTpl\";s:4:\"desc\";s:39:\"moregallery.mggetimages.youtubetpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:9:\"mgYoutube\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:8:\"vimeoTpl\";a:7:{s:4:\"name\";s:8:\"vimeoTpl\";s:4:\"desc\";s:37:\"moregallery.mggetimages.vimeotpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:7:\"mgVimeo\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:14:\"imageSeparator\";a:7:{s:4:\"name\";s:14:\"imageSeparator\";s:4:\"desc\";s:43:\"moregallery.mggetimages.imageseparator_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:14:\"singleImageTpl\";a:7:{s:4:\"name\";s:14:\"singleImageTpl\";s:4:\"desc\";s:43:\"moregallery.mggetimages.singleimagetpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:13:\"mgimagesingle\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:16:\"singleYoutubeTpl\";a:7:{s:4:\"name\";s:16:\"singleYoutubeTpl\";s:4:\"desc\";s:45:\"moregallery.mggetimages.singleyoutubetpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:15:\"mgYoutubeSingle\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:14:\"singleVimeoTpl\";a:7:{s:4:\"name\";s:14:\"singleVimeoTpl\";s:4:\"desc\";s:43:\"moregallery.mggetimages.singlevimeotpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:13:\"mgVimeoSingle\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:18:\"singleImageEnabled\";a:7:{s:4:\"name\";s:18:\"singleImageEnabled\";s:4:\"desc\";s:47:\"moregallery.mggetimages.singleimageenabled_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:16:\"singleImageParam\";a:7:{s:4:\"name\";s:16:\"singleImageParam\";s:4:\"desc\";s:45:\"moregallery.mggetimages.singleimageparam_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:19:\"singleImageResource\";a:7:{s:4:\"name\";s:19:\"singleImageResource\";s:4:\"desc\";s:48:\"moregallery.mggetimages.singleimageresource_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:10:\"wrapperTpl\";a:7:{s:4:\"name\";s:10:\"wrapperTpl\";s:4:\"desc\";s:39:\"moregallery.mggetimages.wrappertpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:14:\"wrapperIfEmpty\";a:7:{s:4:\"name\";s:14:\"wrapperIfEmpty\";s:4:\"desc\";s:43:\"moregallery.mggetimages.wrapperifempty_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:42:\"moregallery.mggetimages.toplaceholder_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:34:\"moregallery.mggetimages.limit_desc\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:35:\"moregallery.mggetimages.offset_desc\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:8:\"totalVar\";a:7:{s:4:\"name\";s:8:\"totalVar\";s:4:\"desc\";s:37:\"moregallery.mggetimages.totalvar_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:5:\"total\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:6:\"scheme\";a:7:{s:4:\"name\";s:6:\"scheme\";s:4:\"desc\";s:35:\"moregallery.mggetimages.scheme_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:5:\"debug\";a:7:{s:4:\"name\";s:5:\"debug\";s:4:\"desc\";s:34:\"moregallery.mggetimages.debug_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}s:6:\"timing\";a:7:{s:4:\"name\";s:6:\"timing\";s:4:\"desc\";s:35:\"moregallery.mggetimages.timing_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"moregallery:default\";s:4:\"area\";s:0:\"\";}}"

-----

/**
 * Gets the photos for the current (or specified) mgResource.
 *
 * @author Mark Hamstra for modmore <support@modmore.com>
 * @var modX $modx
 * @var array $scriptProperties
 */


/** @var moreGallery $moreGallery */
$corePath = $modx->getOption('moregallery.core_path', null, $modx->getOption('core_path') . 'components/moregallery/');
$moreGallery = $modx->getService('moregallery', 'moreGallery', $corePath . 'model/moregallery/');
if (!($moreGallery instanceof moreGallery) || !($moreGallery instanceof \modmore\Alpacka\Alpacka)) {
    $modx->log(modX::LOG_LEVEL_ERROR, 'Error loading moreGallery class from ' . $corePath);
    return 'Error loading moreGallery class.';
}

if (!method_exists($moreGallery, 'runSnippet')) {
    $modx->log(modX::LOG_LEVEL_ERROR, '[moreGallery] IMPORTANT! An older version of Alpacka is being used. Alpacka is a shared library used by numerous extras from modmore. MoreGallery 1.5+ requires Alpacka 0.3+, but an earlier version is loaded into memory. To resolve this issue, please make sure all extras from modmore are up to date (especially MoreGallery itself, ContentBlocks and SimpleCart) and that the Alpacka package is also installed and up to date. If the Alpacka package does not appear in your packages grid, you can download it from the modmore.com package provider for free.');
    return '<span style="color: red; background: white;">Error: using an old version of Alpacka. Please see the error log for more information.</span>';
}

return $moreGallery->runSnippet('GetImages', $scriptProperties, false);