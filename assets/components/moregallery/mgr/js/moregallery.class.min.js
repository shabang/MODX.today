var moreGallery=function(e){e=e||{};moreGallery.superclass.constructor.call(this,e)};Ext.extend(moreGallery,Ext.Component,{page:{},window:{},grid:{},tree:{},panel:{},tabs:{},combo:{},ResourceRecord:{},confirm:function(e){var t=new Date,n=window.confirm(e),r=new Date;r-t<350&&(n=!0);return n},Models:{},Views:{},Collections:{},backboneSync:function(e,t,n){var r=t.actions||{create:"create",read:"getlist",update:"update","delete":"remove",patch:"update"},i=n.attrs||t.attributes||{},s={type:"POST",dataType:"json",data:underscore.extend({},i)};s.data.action=r[e];s.data.exif=undefined;s.data.exif_dump=undefined;s.data.exif_json=undefined;s.data.iptc=undefined;s.data.iptc_dump=undefined;s.data.iptc_json=undefined;s.data.mgr_thumb=undefined;s.data.mgr_thumb_path=undefined;s.data.file_url=undefined;s.data.file_path=undefined;s.data.view_url=undefined;s.data._source_is_local=undefined;n.url||(s.url=underscore.result(t,"url")||MODx.config.connectors_url);var o=n.xhr=Backbone.ajax(underscore.extend(s,n));t.trigger("request",t,o,n);return o},getResourceProperty:function(e,t,n){if(e&&e.properties&&e.properties.moregallery&&e.properties.moregallery[t]){var r=e.properties.moregallery[t];return r=="inherit"?n:r}return n},lang:function(e,t){e="moregallery."+e;if(t!=null&&typeof t=="object"){var n=""+MODx.lang[e];for(var r in t)n=n.replace("[[+"+r+"]]",t[r]);return n}return MODx.lang[e]}});Ext.reg("moregallery",moreGallery);moreGallery=new moreGallery;moreGallery.combo.ContentLocation=function(e){e=e||{};Ext.applyIf(e,{mode:"local",store:new Ext.data.SimpleStore({fields:["display","id"],data:[[_("moregallery.inherit"),"inherit"],[_("moregallery.content_position.above"),"above"],[_("moregallery.content_position.below"),"below"],[_("moregallery.content_position.tab"),"tab"],[_("moregallery.content_position.hide"),"hide"]]}),fields:["id","display"],hiddenName:e.name||"content_location",pageSize:15,valueField:"id",displayField:"display"});moreGallery.combo.ContentLocation.superclass.constructor.call(this,e)};Ext.extend(moreGallery.combo.ContentLocation,MODx.combo.ComboBox);Ext.reg("moregallery-combo-contentlocation",moreGallery.combo.ContentLocation);moreGallery.combo.Source=function(e){e=e||{};Ext.applyIf(e,{url:moreGallery.config.connector_url,baseParams:{action:"mgr/combo/source",combo:!0},fields:["value","display","description"],hiddenName:e.name,valueField:"value",displayField:"display",paging:!0,pageSize:20,tpl:new Ext.XTemplate('<tpl for="."><div class="x-combo-list-item">{display}<br><small style="white-space: normal;">{description:htmlEncode}</small></div></tpl>')});moreGallery.combo.Source.superclass.constructor.call(this,e)};Ext.extend(moreGallery.combo.Source,MODx.combo.ComboBox);Ext.reg("contentblocks-combo-source",moreGallery.combo.Source);