{"version":3,"sources":["gallery.js"],"names":["$","ContentBlocks","fieldTypes","gallery","dom","data","input","imageCount","fileBrowser","source","properties","ContentBlocksConfig","directory","init","this","initUpload","thumbnail_size","length","thumb_size","find","addClass","on","click","proxy","chooseImage","promptImage","MODx","load","xtype","target","targetEl","get","onInsert","val","addImageFromUrl","isArray","images","each","idx","img","id","generated_id","width","height","addImage","sortable","connectWith","forceHelperSize","forcePlaceholderSize","placeholder","tolerance","cursor","update","fixColumnHeights","fireChange","start","event","ui","item","toBoolean","show_description","show_link_field","maxImages","max_images","numImages","alert","_","max","Ext","multiple","listeners","select","imageData","chooseImageCallback","allowedFileTypes","file_types","hideFiles","title","setSource","show","url","fullRelativeUrl","substr","config","base_url","imageId","attr","size","extension","ext","filename","description","link","image_width","image_height","Msg","prompt","btn","ajax","dataType","connector_url","type","beforeSend","xhr","settings","crossDomain","setRequestHeader","siteId","action","field","resource","ContentBlocksResource","context","success","result","removeClass","urls","utilities","normaliseUrls","object","cleanedSrc","message","values","holder","thumbDisplay","getThumbnailUrl","displaySrc","append","tmpl","inserted","fadeOut","remove","initializeLinkField","fileupload","connectorUrl","dropZone","progressInterval","paramName","pasteZone","add","e","files","name","split","pop","domId","window","FileReader","reader","onload","readAsDataURL","setTimeout","submit","done","responseData","record","file","fail","formData","value","request","progress","parseInt","loaded","total","css","getData","$img","$link","linkType","getLinkFieldDataType","push","vcJquery"],"mappings":"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","file":"gallery-min.js"}