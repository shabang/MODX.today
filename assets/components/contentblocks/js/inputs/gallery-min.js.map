{"version":3,"sources":["gallery.js"],"names":["$","ContentBlocks","fieldTypes","gallery","dom","data","input","imageCount","fileBrowser","source","properties","ContentBlocksConfig","directory","init","this","initUpload","thumbnail_size","length","thumb_size","find","addClass","on","click","proxy","chooseImage","isArray","images","each","idx","img","id","generated_id","width","height","addImage","sortable","connectWith","forceHelperSize","forcePlaceholderSize","placeholder","tolerance","cursor","update","fixColumnHeights","fireChange","start","event","ui","item","toBoolean","show_description","show_link_field","maxImages","max_images","numImages","alert","_","max","MODx","load","xtype","Ext","multiple","listeners","select","imageData","chooseImageCallback","allowedFileTypes","file_types","hideFiles","title","setSource","show","url","fullRelativeUrl","substr","config","base_url","imageId","attr","size","extension","ext","filename","description","link","image_width","image_height","values","holder","urls","utilities","normaliseUrls","cleanedSrc","thumbDisplay","getThumbnailUrl","displaySrc","append","tmpl","inserted","fadeOut","remove","initializeLinkField","fileupload","connectorUrl","dataType","dropZone","progressInterval","paramName","pasteZone","add","e","files","name","split","pop","domId","window","FileReader","reader","onload","target","result","readAsDataURL","setTimeout","submit","done","responseData","success","record","object","val","removeClass","message","file","fail","formData","value","siteId","request","progress","parseInt","loaded","total","css","getData","$img","$link","linkType","getLinkFieldDataType","push","vcJquery"],"mappings":"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","file":"gallery-min.js"}