!function(a,b){b.fieldTypes.code=function(c,d){var e={editor:null};return ace.config.set("basePath",ContentBlocksConfig.assets_url+"js/vendor/9cloud/ace"),e.init=function(){this.editor=ace.edit(d.generated_id+"-editor"),this.editor.setTheme("ace/theme/"+ContentBlocksConfig["code.theme"]),this.editor.setValue(d.value||"",1),this.editor.setOptions({minLines:1,maxLines:1/0,wrap:"free",showPrintMargin:!1}),this.editor.on("input",function(){b.fireChange()});var f=c.find(".language"),g=d.properties.available_languages||"html=HTML,javascript=JavaScript,css=CSS,php=PHP";g=g.split(","),a.each(g,function(a,b){b=b.split("=");var c=_("contentblocks."+b[1])||b[1];f.append('<option value="'+b[0]+'">'+c+"</option>")}),g.length<2&&f.parent().hide(),d.lang||(d.lang=d.properties.default_language||"html"),f.val(d.lang),this.editor.getSession().setMode("ace/mode/"+d.lang),f.on("change",function(){e.editor.getSession().setMode("ace/mode/"+a(this).val()),b.fireChange()})},e.getData=function(){return{value:this.editor.getValue(),lang:c.find(".language").val()}},e.confirmBeforeDelete=function(){var a=e.getData(),b=a.lang!=d.properties.default_language,c=a.value.length>0;return b||c},e}}(vcJquery,ContentBlocks);
//# sourceMappingURL=code-min.js.map