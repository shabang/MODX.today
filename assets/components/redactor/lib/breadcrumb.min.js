if(!RedactorPlugins)var RedactorPlugins={};!function(a){RedactorPlugins.breadcrumb=function(){return{init:function(){var b=this;a(this.$editor).after('<p class="redactor_message_box redactor_breadcrumb" id="redactor_breadcrumb-'+this.uuid+'"><i class="icon icon-code"></i>&nbsp;<span></span></p>');var c=a("#redactor_breadcrumb-"+this.uuid);this.$editor.on("keyup.redactor-limiter",a.proxy(function(a){this.breadcrumb.handleChange(a)},this)).on("click",a.proxy(function(a){this.breadcrumb.handleChange(a)},this)).on("sync",a.proxy(function(a){this.breadcrumb.handleChange(a)},this)),this.$element.on("sourceCallback",function(){b.opts.visual?c.show():c.hide()})},handleChange:function(){var b=this.selection.getCurrent(),c=a("#redactor_breadcrumb-"+this.uuid),d=a(b).clone(),e=(d.find('*[data-verified="redactor"]'),d.closest("div.redactor-editor"),[]);if(a(b).parent().is("div.redactor-editor"))e.push(a(d)[0].tagName);else for(var f=a(b);a(f)[0]&&void 0!==f.parent()&&!f.is("div.redactor-editor");)e.push(a(f)[0].tagName),f=f.parent();e=e.reverse(),c.children("span").html(e.join("&nbsp;&raquo;&nbsp;"))}}}}(jQuery);